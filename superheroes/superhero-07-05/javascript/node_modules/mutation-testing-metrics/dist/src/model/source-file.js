import { computeLineStarts } from '../helpers/index.js';
export function assertSourceDefined(source) {
    if (source === undefined) {
        throw new Error('sourceFile.source is undefined');
    }
}
export class SourceFile {
    lineMap;
    getLineMap() {
        assertSourceDefined(this.source);
        return this.lineMap ?? (this.lineMap = computeLineStarts(this.source));
    }
    /**
     * Retrieves the source lines based on the `start.line` and `end.line` property.
     */
    getLines(location) {
        assertSourceDefined(this.source);
        const lineMap = this.getLineMap();
        return this.source.substring(lineMap[location.start.line], lineMap[(location.end ?? location.start).line + 1]);
    }
}
//# sourceMappingURL=source-file.js.map